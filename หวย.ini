import requests
import "tkinter" as tk
from "tkinter" import scrolledtext

def get_lottery():
    url = "https://www.lottery.co.th/small"
    response = requests.get(url)
    response.encoding = "utf-8"

    if response.status_code == 200:
        soup = BeautifulSoup(response.text, "html.parser")

        # ดึงข้อมูลรางวัล (เลือกตารางแรก)
        table = soup.find("table")
        rows = table.find_all("tr")

        results = []
        for row in rows:
            cols = row.find_all("td")
            data = [col.text.strip() for col in cols]
            if data:
                results.append(" | ".join(data))

        # แสดงในกล่องข้อความ
        text_box.delete("1.0", tk.END)
        for r in results:
            text_box.insert(tk.END, r + "\n")
  else:
        text_box.insert(tk.END, "ไม่สามารถดึงข้อมูลได้\n") 